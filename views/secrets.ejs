<%- include('partials/header') %>

<!-- Flash Messages. -->
<% if (error && error.length > 0) { %>
<div class="alert alert-danger"><%= error[0] %></div>
<% } %> <% if (success && success.length > 0) { %>
<div class="alert alert-success"><%= success[0] %></div>
<% } %>

<div class="jumbotron text-center">
  <div class="container">
    <i class="fas fa-key fa-6x"></i>
    <h1 class="display-3">You've Discovered Secrets!</h1>

    <!-- User's own secrets. -->
    <% if (userSecret.length === 0) { %>
    <p>ğŸ“ You haven't submitted any secrets yet!</p>
    <% } else { %>
    <h2>ğŸ“ Your Secrets</h2>
    <% userSecret.forEach(secret => { %>
    <p class="secret-text"><%= secret %></p>
    <% }); %> <% } %>
    <hr />

    <!-- All user's secrets. -->
    <% if (secret.length === 0) { %>
    <p>ğŸŒ No other user has shared their secrets yet!</p>
    <% } else { %>
    <h2>ğŸŒ Other's Secrets</h2>
    <% secret.forEach(secret => { %>
    <p class="secret-text"><%= secret %></p>
    <% }) %><% } %>
    <hr />

    <h2>ğŸ¤– Random Secrets</h2>
    <!-- Random secret from external API -->
    <p class="secret-text"><%= randomSecret %></p>
    <hr />

    <div class="fixed-buttons">
      <a class="btn btn-light btn-lg" href="/logout" role="button">Log Out</a>
      <a class="btn btn-dark btn-lg" href="/submit" role="button"
        >Have a 'Secrets'?</a
      >
    </div>
  </div>
</div>

<%- include('partials/footer') %>
